/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.3/userguide/tutorial_java_projects.html
 */

plugins {
    // Apply the java plugin to add support for Java
    id 'java'

    // Apply the application plugin to add support for building a CLI application.
    id 'java-library'

    id 'maven-publish'
}

repositories {
    // Use jcenter for resolving dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
}



dependencies {
    // This dependency is used by the application.
    implementation 'com.google.guava:guava:28.2-jre'
    implementation 'com.rabbitmq:amqp-client:4.0.2'
    implementation group: 'com.google.guava', name: 'guava', version: '30.0-jre'
    implementation group: 'org.apache.lucene', name: 'lucene-core', version: '8.8.0'

    compile group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '2.3.3.RELEASE'
    compile group: 'javax.validation', name: 'validation-api', version: '1.1.0.Final'
    compile group: 'org.projectlombok', name: 'lombok', version: '1.18.12'
    compile group: 'org.apache.commons', name: 'commons-pool2', version: '2.8.0'
    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.9'
    compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.11.0'
    compile group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jdk8', version: '2.11.0'
    compile group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310', version: '2.11.0'
    compile group: 'com.fasterxml.jackson.module', name: 'jackson-module-parameter-names', version: '2.11.0'
    compile group: 'org.redisson', name: 'redisson', version: '3.13.1'
    compile group: 'org.apache.poi', name: 'poi', version: '4.1.2'
    compile group: 'org.apache.poi', name: 'poi-ooxml', version: '4.1.2'
    compile "com.fasterxml.jackson.core:jackson-annotations:2.9.4"
    compile "io.vavr:vavr:0.9.0"

    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
}


version = 'release-1.0.0'

// def githubProperties = new Properties()
// githubProperties.load(new FileInputStream(rootProject.file("github.properties")))

def getVersionName = { ->
 return version // 仓库版本
}

def getArtificatId = { ->
 return "alex-common" // 仓库Id
}



java {
    withSourcesJar()
}

// publishing {
//  publications {
//    bar(MavenPublication) {
//       groupId 'com.alex' // 仓库组Id
//       artifactId getArtificatId()
//       version getVersionName()
//       artifact("$buildDir/libs/${getArtificatId()}-${getVersionName()}.jar")
//     }
//  }

// repositories {
//         maven {
//                name = "GitHubPackages"
//         /** Configure path of your package repository on Github
//          ** GITHUB_USERID替换成你的GitHub账户Id
//          ** REPOSITORY替换成你的项目名称
//         */
//  url = uri("https://maven.pkg.github.com/AlexZheng9212/alex-common")
// credentials {
//         /** Create github.properties in root project folder file with
//          ** gpr.usr=GITHUB_USER_ID & gpr.key=PERSONAL_ACCESS_TOKEN
//          ** Set env variable GPR_USER & GPR_API_KEY if not adding a properties file**/
//          username = ${GPR_USER} ?: System.getenv("GPR_USER")
//          password = ${GPR_API_KEY} ?: System.getenv("GPR_API_KEY")
//       }
//     }
//   }
// }